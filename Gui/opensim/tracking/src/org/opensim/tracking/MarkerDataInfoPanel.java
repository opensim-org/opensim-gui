/* -------------------------------------------------------------------------- *
 * OpenSim: MarkerDataInfoPanel.java                                          *
 * -------------------------------------------------------------------------- *
 * OpenSim is a toolkit for musculoskeletal modeling and simulation,          *
 * developed as an open source project by a worldwide community. Development  *
 * and support is coordinated from Stanford University, with funding from the *
 * U.S. NIH and DARPA. See http://opensim.stanford.edu and the README file    *
 * for more information including specific grant numbers.                     *
 *                                                                            *
 * Copyright (c) 2005-2017 Stanford University and the Authors                *
 * Author(s): Ayman Habib                                                     *
 *                                                                            *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may    *
 * not use this file except in compliance with the License. You may obtain a  *
 * copy of the License at http://www.apache.org/licenses/LICENSE-2.0          *
 *                                                                            *
 * Unless required by applicable law or agreed to in writing, software        *
 * distributed under the License is distributed on an "AS IS" BASIS,          *
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   *
 * See the License for the specific language governing permissions and        *
 * limitations under the License.                                             *
 * -------------------------------------------------------------------------- */

/*
 * TRCFileInfoPanel.java
 *
 * Created on July 9, 2007, 4:44 AM
 */

package org.opensim.tracking;

import java.awt.Component;
import java.text.DecimalFormat;
import java.text.NumberFormat;
import org.opensim.modeling.MarkerData;

/**
 *
 * @author  erang
 */
public class MarkerDataInfoPanel extends javax.swing.JPanel {

   private NumberFormat doubleFormat = NumberFormat.getInstance();
   private NumberFormat integerFormat = NumberFormat.getIntegerInstance();

   /** Creates new form TRCFileInfoPanel */
   public MarkerDataInfoPanel() {
      if (doubleFormat instanceof DecimalFormat) {
        ((DecimalFormat) doubleFormat).applyPattern("#,##0.#########");
      }

      initComponents();
   }

   public void setEnabled(boolean enabled) {
      super.setEnabled(enabled);
      for(Component comp : getComponents()) comp.setEnabled(enabled);
   }

   public void update(MarkerData data) {
      if(data != null) {
         markersTextField.setText(integerFormat.format(data.getMarkerNames().getSize()));
         framesTextField.setText(integerFormat.format(data.getNumFrames()));
         frameRateTextField.setText(integerFormat.format(data.getDataRate())); // TODO: should it be data rate or camera rate??
         startTimeTextField.setText(doubleFormat.format(data.getStartFrameTime()));
         endTimeTextField.setText(doubleFormat.format(data.getLastFrameTime()));
      } else {
         markersTextField.setText("");
         framesTextField.setText("");
         frameRateTextField.setText("");
         startTimeTextField.setText("");
         endTimeTextField.setText("");
      }
      revalidate();
      repaint();
   }
   
   /** This method is called from within the constructor to
    * initialize the form.
    * WARNING: Do NOT modify this code. The content of this method is
    * always regenerated by the Form Editor.
    */
   // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
   private void initComponents() {
      jLabel21 = new javax.swing.JLabel();
      markersTextField = new javax.swing.JTextField();
      jLabel22 = new javax.swing.JLabel();
      framesTextField = new javax.swing.JTextField();
      startTimeTextField = new javax.swing.JTextField();
      jLabel23 = new javax.swing.JLabel();
      endTimeTextField = new javax.swing.JTextField();
      jLabel24 = new javax.swing.JLabel();
      jLabel1 = new javax.swing.JLabel();
      frameRateTextField = new javax.swing.JTextField();
      jLabel2 = new javax.swing.JLabel();
      jLabel3 = new javax.swing.JLabel();

      setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED), "Marker Data", javax.swing.border.TitledBorder.CENTER, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 10), new java.awt.Color(102, 102, 102)));
      jLabel21.setFont(new java.awt.Font("Tahoma", 0, 10));
      jLabel21.setForeground(new java.awt.Color(102, 102, 102));
      jLabel21.setText("Markers");

      markersTextField.setEditable(false);
      markersTextField.setFont(new java.awt.Font("Tahoma", 1, 10));
      markersTextField.setForeground(new java.awt.Color(102, 102, 102));
      markersTextField.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      markersTextField.setText("0");
      markersTextField.setBorder(null);
      markersTextField.setMaximumSize(new java.awt.Dimension(38, 13));
      markersTextField.setMinimumSize(new java.awt.Dimension(38, 13));
      markersTextField.setOpaque(false);

      jLabel22.setFont(new java.awt.Font("Tahoma", 0, 10));
      jLabel22.setForeground(new java.awt.Color(102, 102, 102));
      jLabel22.setText("Frames");

      framesTextField.setEditable(false);
      framesTextField.setFont(new java.awt.Font("Tahoma", 1, 10));
      framesTextField.setForeground(new java.awt.Color(102, 102, 102));
      framesTextField.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      framesTextField.setText("0");
      framesTextField.setBorder(null);
      framesTextField.setMaximumSize(new java.awt.Dimension(38, 13));
      framesTextField.setMinimumSize(new java.awt.Dimension(38, 13));
      framesTextField.setOpaque(false);

      startTimeTextField.setEditable(false);
      startTimeTextField.setFont(new java.awt.Font("Tahoma", 1, 10));
      startTimeTextField.setForeground(new java.awt.Color(102, 102, 102));
      startTimeTextField.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      startTimeTextField.setText("0");
      startTimeTextField.setBorder(null);
      startTimeTextField.setOpaque(false);

      jLabel23.setFont(new java.awt.Font("Tahoma", 0, 10));
      jLabel23.setForeground(new java.awt.Color(102, 102, 102));
      jLabel23.setText("Time");

      endTimeTextField.setEditable(false);
      endTimeTextField.setFont(new java.awt.Font("Tahoma", 1, 10));
      endTimeTextField.setForeground(new java.awt.Color(102, 102, 102));
      endTimeTextField.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      endTimeTextField.setText("0");
      endTimeTextField.setBorder(null);
      endTimeTextField.setOpaque(false);

      jLabel24.setForeground(new java.awt.Color(102, 102, 102));
      jLabel24.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
      jLabel24.setText("-");

      jLabel1.setFont(new java.awt.Font("Tahoma", 0, 10));
      jLabel1.setForeground(new java.awt.Color(102, 102, 102));
      jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
      jLabel1.setText("@");

      frameRateTextField.setEditable(false);
      frameRateTextField.setFont(new java.awt.Font("Tahoma", 1, 10));
      frameRateTextField.setForeground(new java.awt.Color(102, 102, 102));
      frameRateTextField.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      frameRateTextField.setText("0");
      frameRateTextField.setBorder(null);
      frameRateTextField.setMaximumSize(new java.awt.Dimension(38, 13));
      frameRateTextField.setMinimumSize(new java.awt.Dimension(38, 13));
      frameRateTextField.setOpaque(false);

      jLabel2.setFont(new java.awt.Font("Tahoma", 0, 10));
      jLabel2.setForeground(new java.awt.Color(102, 102, 102));
      jLabel2.setText("Hz");

      jLabel3.setFont(new java.awt.Font("Tahoma", 0, 10));
      jLabel3.setForeground(new java.awt.Color(102, 102, 102));
      jLabel3.setText("s");

      org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(this);
      this.setLayout(layout);
      layout.setHorizontalGroup(
         layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(layout.createSequentialGroup()
            .addContainerGap()
            .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
               .add(jLabel22)
               .add(jLabel21)
               .add(jLabel23))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
               .add(startTimeTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 38, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(framesTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 38, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(markersTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 38, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
               .add(jLabel1)
               .add(jLabel24))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
               .add(endTimeTextField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 38, Short.MAX_VALUE)
               .add(frameRateTextField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 38, Short.MAX_VALUE))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
               .add(jLabel3, 0, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
               .add(jLabel2))
            .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
      );

      layout.linkSize(new java.awt.Component[] {jLabel1, jLabel24}, org.jdesktop.layout.GroupLayout.HORIZONTAL);

      layout.linkSize(new java.awt.Component[] {frameRateTextField, framesTextField, markersTextField, startTimeTextField}, org.jdesktop.layout.GroupLayout.HORIZONTAL);

      layout.setVerticalGroup(
         layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(layout.createSequentialGroup()
            .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
               .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabel21)
               .add(org.jdesktop.layout.GroupLayout.TRAILING, markersTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
               .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabel22)
               .add(org.jdesktop.layout.GroupLayout.TRAILING, framesTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabel1)
               .add(org.jdesktop.layout.GroupLayout.TRAILING, frameRateTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabel2))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
               .add(jLabel23)
               .add(startTimeTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(jLabel24)
               .add(jLabel3)
               .add(endTimeTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
      );

      layout.linkSize(new java.awt.Component[] {endTimeTextField, frameRateTextField, framesTextField, jLabel1, jLabel2, jLabel21, jLabel22, jLabel23, jLabel24, jLabel3, markersTextField, startTimeTextField}, org.jdesktop.layout.GroupLayout.VERTICAL);

   }// </editor-fold>//GEN-END:initComponents
   
   
   // Variables declaration - do not modify//GEN-BEGIN:variables
   private javax.swing.JTextField endTimeTextField;
   private javax.swing.JTextField frameRateTextField;
   private javax.swing.JTextField framesTextField;
   private javax.swing.JLabel jLabel1;
   private javax.swing.JLabel jLabel2;
   private javax.swing.JLabel jLabel21;
   private javax.swing.JLabel jLabel22;
   private javax.swing.JLabel jLabel23;
   private javax.swing.JLabel jLabel24;
   private javax.swing.JLabel jLabel3;
   private javax.swing.JTextField markersTextField;
   private javax.swing.JTextField startTimeTextField;
   // End of variables declaration//GEN-END:variables
   
}
